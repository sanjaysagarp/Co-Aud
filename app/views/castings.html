{{define "castings"}}
{{template "header" .}}
<script src="/public/js/infiniteScroll.js"></script>

{{if .Data.currentUser}}
<div class="search-side-nav">
	<div data-spy="affix" data-offset-top="200px" data-offset-bottom="200px">
		<a href="/submitCasting/" class="btn btn-lg btn-default">SUBMIT</a>
	</div>
</div>
{{end}}
<div class="container">
	<div class="row">
		<div class="col-lg-12">
			<div class="input-group">
	      <input type="text" class="form-control" placeholder="Search for...">
	      <span class="input-group-btn">
	        <button class="btn btn-default" type="button">
	        	<span class="glyphicon glyphicon-search" aria-hidden="true"></span>Search
	        </button>
	      </span>
	    </div>
    </div>	
  </div>	
  <hr>
	<div class="row">
		{{ range .Data.roles }}
			<div class="thumbnail col-sm-3 col-lg-3 col-xs-6 col-md-3">
				<a href="/role/?id={{ .Id.Hex }}">
					<h2>{{ .Title }}</h2>
					<img class="img-responsive" src="/public/img/placeholder.png">
				</a>
			</div>
		{{ end }}
	</div>
	<nav class=text-center>
	  <ul class="pagination">
	    {{ if not (or (eq .Data.currentPage 1) (eq .Data.currentPage 0))}}
				<li>
					<a href="/castings/?page=1" aria-label="Previous">
						<span aria-hidden="true">&laquo;</span>
					</a>
				</li>
			{{end}}
	    <li class="active"><a href="/castings/?page=1">1 <span class="sr-only">(current)</span></a></li>
	    <li><a href="/castings/?page=2">2</a></li>
	    {{ if not (eq .Data.currentPage .Data.maxPage)}}
				<li>
					<a href="/castings/?page=2" aria-label="Next">
						<span aria-hidden="true">&raquo;</span>
					</a>
				</li>
			{{end}}
	  </ul>
	</nav>
</div>
{{template "footer" .}}
{{end}}